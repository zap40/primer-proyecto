(function(){"use strict";const a={cache:{},scroller:{},items:JSON.parse(kadence_blocks_progress_bars.items),windowResize(){a?.items&&Object.keys(a?.items).forEach(function(b){a.updateContainer(a.items[b])})},updateContainer(b){const c=document.querySelectorAll(".kb-progress-bar-"+b.unique_id),d=[];if(c?.length)for(let e=0;e<c.length;e++)d[e]=c[e].querySelector("svg"),d?.[e]&&a.updatePathSize(d[e],b)},updatePathSize(a,b){const c=a.querySelectorAll("path"),d=c[0],e=c[1];768>window.innerWidth?("line"===b.type&&(a.setAttribute("viewBox","0 0 100 "+b.stokeWidths[2]),d.setAttribute("d","M 0,"+b.stokeWidths[2]/2+" L 100,"+b.stokeWidths[2]/2),e.setAttribute("d","M 0,"+b.stokeWidths[2]/2+" L 100,"+b.stokeWidths[2]/2)),d.setAttribute("stroke-width",b.stokeWidths[2]),e.setAttribute("stroke-width",b.stokeWidths[2])):1025>window.innerWidth?("line"===b.type&&(a.setAttribute("viewBox","0 0 100 "+b.stokeWidths[1]),d.setAttribute("d","M 0,"+b.stokeWidths[1]/2+" L 100,"+b.stokeWidths[1]/2),e.setAttribute("d","M 0,"+b.stokeWidths[1]/2+" L 100,"+b.stokeWidths[1]/2)),d.setAttribute("stroke-width",b.stokeWidths[1]),e.setAttribute("stroke-width",b.stokeWidths[1])):("line"===b.type&&(a.setAttribute("viewBox","0 0 100 "+b.stokeWidths[0]),d.setAttribute("d","M 0,"+b.stokeWidths[0]/2+" L 100,"+b.stokeWidths[0]/2),e.setAttribute("d","M 0,"+b.stokeWidths[0]/2+" L 100,"+b.stokeWidths[0]/2)),d.setAttribute("stroke-width",b.stokeWidths[0]),e.setAttribute("stroke-width",b.stokeWidths[0]))},triggerAnimation(b,c,d){if(a.cache[d.simple_id][c]){const e=d?.prefix?a.stripHtml(d.prefix):"",f=d?.suffix?a.stripHtml(d.suffix):"";a.cache[d.simple_id][c].animate(d.progress_real/d.progress_max,{duration:1e3*d.duration,step(a,c){let g=0;const h=b.querySelector(".kb-current-progress-above"),i=b.querySelector(".kb-current-progress-inside"),j=b.querySelector(".kb-current-progress-below");g=d.is_relative?100*c.value():c.value()*d.progress_max,"one"===d.decimal?(g=Math.round(10*g)/10,g=g.toFixed(1)):"two"===d.decimal?(g=Math.round(100*g)/100,g=g.toFixed(2)):g=Math.round(g),h?h.innerHTML=e+g+f:i?i.innerHTML=e+g+f:j&&(j.innerHTML=e+g+f)}})}},initSingleBarElement(b,c,d){let e=768>window.innerWidth?d.stokeWidths?.[2]?d.stokeWidths[2]:2:1025>window.innerWidth?d.stokeWidths?.[1]?d.stokeWidths[1]:2:d.stokeWidths?.[0]?d.stokeWidths[0]:2;const f=b.querySelector(".kb-progress-bar"),g={color:d.progressColor,trailColor:d.barBackground,duration:1e3*d.duration,easing:d.easing,strokeWidth:e};switch(a.cache[d.simple_id]||(a.cache[d.simple_id]=[]),d.type){case"circle":a.cache[d.simple_id][c]=new ProgressBar.Circle(f,g);break;case"line":a.cache[d.simple_id][c]=new ProgressBar.Line(f,g);break;case"semicircle":a.cache[d.simple_id][c]=new ProgressBar.SemiCircle(f,g)}if(d.delay){a.scroller[d.simple_id]||(a.scroller[d.simple_id]=[]),a.scroller[d.simple_id][c]=new ScrollMagic.Controller;const e=new ScrollMagic.Scene({triggerElement:b});e.triggerHook(.88),e.addTo(a.scroller[d.simple_id][c]),e.on("start",function(){a.triggerAnimation(b,c,d)})}else a.triggerAnimation(b,c,d);b.classList.remove("kb-progress-bar-init")},initSingleBar(b){const c=document.querySelectorAll(".kb-progress-bar-container"+b.unique_id+".kb-progress-bar-init");if(c?.length)for(let d=0;d<c.length;d++)a.initSingleBarElement(c[d],d,b)},stripHtml(a){const b=new DOMParser().parseFromString(`<pre>${a}</pre>`,"text/html");return b.body.textContent||""},initAll(){a?.items&&Object.keys(a?.items).forEach(function(b){a.initSingleBar(a.items[b])})},init(){if("undefined"!=typeof ProgressBar)a.initAll();else var b=setInterval(function(){"undefined"!=typeof ProgressBar&&(a.initAll(),clearInterval(b))},200)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a.init):a.init(),document.addEventListener("kb-query-loaded",a.init),window.addEventListener("resize",a.windowResize,!1)})();